import{_ as z,u as E,r as b,a as N,c as R,b as o,d as t,e as S,w as s,f as r,g as U,h as i,i as h,o as B,E as u}from"./index-KJ8F0kGT.js";const C={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-50"},F={class:"w-full max-w-md"},M={class:"eco-card p-8"},j={class:"text-center mb-8"},q={class:"flex justify-center items-center space-x-2 mb-4"},T={class:"mt-6 text-center"},I={class:"text-gray-600"},A={__name:"Login",setup(D){const g=h(),_=E(),c=b(null),m=b(!1),l=N({email:"",password:"",remember:!1}),x={email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少6位",trigger:"blur"}]},p=async()=>{if(c.value)try{await c.value.validate(),m.value=!0;const a=await _.login(l);a.success?(u.success(a.message),g.push("/")):u.error(a.message)}catch(a){console.error("登录失败:",a),u.error("登录失败，请重试")}finally{m.value=!1}};return(a,e)=>{const v=r("Leaf"),w=r("el-icon"),f=r("el-input"),d=r("el-form-item"),k=r("el-checkbox"),y=r("el-button"),V=r("el-form"),L=r("router-link");return B(),R("div",C,[o("div",F,[o("div",M,[o("div",j,[o("div",q,[t(w,{size:36,color:"#10b981"},{default:s(()=>[t(v)]),_:1}),e[3]||(e[3]=o("h1",{class:"text-2xl font-bold text-eco-dark"},"EcoTrack",-1))]),e[4]||(e[4]=o("h2",{class:"text-xl font-semibold text-eco-dark mb-2"},"欢迎回来",-1)),e[5]||(e[5]=o("p",{class:"text-gray-600"},"登录您的绿色生活账户",-1))]),t(V,{model:l,rules:x,ref_key:"loginFormRef",ref:c,onSubmit:U(p,["prevent"])},{default:s(()=>[t(d,{prop:"email"},{default:s(()=>[t(f,{modelValue:l.email,"onUpdate:modelValue":e[0]||(e[0]=n=>l.email=n),placeholder:"邮箱地址","prefix-icon":"Message",size:"large",clearable:""},null,8,["modelValue"])]),_:1}),t(d,{prop:"password"},{default:s(()=>[t(f,{modelValue:l.password,"onUpdate:modelValue":e[1]||(e[1]=n=>l.password=n),type:"password",placeholder:"密码","prefix-icon":"Lock",size:"large","show-password":"",clearable:""},null,8,["modelValue"])]),_:1}),t(d,null,{default:s(()=>[t(k,{modelValue:l.remember,"onUpdate:modelValue":e[2]||(e[2]=n=>l.remember=n)},{default:s(()=>[...e[6]||(e[6]=[i(" 记住我 ",-1)])]),_:1},8,["modelValue"])]),_:1}),t(d,null,{default:s(()=>[t(y,{type:"primary",size:"large",loading:m.value,onClick:p,class:"w-full",style:{"background-color":"#d1fae5","border-color":"#a7f3d0",color:"#065f46"}},{default:s(()=>[...e[7]||(e[7]=[i(" 登录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),o("div",T,[o("p",I,[e[9]||(e[9]=i(" 还没有账户？ ",-1)),t(L,{to:"/register",class:"text-eco-green hover:text-green-600 font-medium"},{default:s(()=>[...e[8]||(e[8]=[i(" 立即注册 ",-1)])]),_:1})])]),e[10]||(e[10]=S('<div class="mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200" data-v-43c53b4c><h4 class="text-sm font-semibold text-blue-800 mb-2" data-v-43c53b4c>演示账号</h4><p class="text-xs text-blue-600 mb-1" data-v-43c53b4c>邮箱: demo@ecotrack.com</p><p class="text-xs text-blue-600 mb-2" data-v-43c53b4c>密码: 任意非空密码</p><p class="text-xs text-blue-500" data-v-43c53b4c>您可以输入任意邮箱和密码进行体验</p></div>',1))])])])}}},H=z(A,[["__scopeId","data-v-43c53b4c"]]);export{H as default};
